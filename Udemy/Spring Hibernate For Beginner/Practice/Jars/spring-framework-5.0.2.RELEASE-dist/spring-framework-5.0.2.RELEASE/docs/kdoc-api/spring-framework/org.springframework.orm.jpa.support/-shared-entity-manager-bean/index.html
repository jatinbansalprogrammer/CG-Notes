<HTML>
<HEAD>
<meta charset="UTF-8">
<title>SharedEntityManagerBean - spring-framework</title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">spring-framework</a>&nbsp;/&nbsp;<a href="../index.html">org.springframework.orm.jpa.support</a>&nbsp;/&nbsp;<a href=".">SharedEntityManagerBean</a><br/>
<br/>
<h1>SharedEntityManagerBean</h1>
<code><span class="keyword">open</span> <span class="keyword">class </span><span class="identifier">SharedEntityManagerBean</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../org.springframework.orm.jpa/-entity-manager-factory-accessor/index.html"><span class="identifier">EntityManagerFactoryAccessor</span></a><span class="symbol">, </span><span class="identifier">FactoryBean</span><span class="symbol">&lt;</span><span class="identifier">EntityManager</span><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier">InitializingBean</span></code>
<p>FactoryBean that exposes a shared JPA javax.persistence.EntityManager reference for a given EntityManagerFactory. Typically used for an EntityManagerFactory created by org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean, as direct alternative to a JNDI lookup for a Java EE server's EntityManager reference. 
<p>The shared EntityManager will behave just like an EntityManager fetched from an application server's JNDI environment, as defined by the JPA specification. It will delegate all calls to the current transactional EntityManager, if any; otherwise, it will fall back to a newly created EntityManager per operation. </p>
<p>Can be passed to DAOs that expect a shared EntityManager reference rather than an EntityManagerFactory. Note that Spring's org.springframework.orm.jpa.JpaTransactionManager always needs an EntityManagerFactory in order to create new transactional EntityManager instances.</p>
</p>
<p><strong>Author</strong><br/>
Juergen Hoeller</p>
<p><strong>Since</strong><br/>
2.0</p>
<p><strong>See Also</strong><br/>
<a href="../../org.springframework.orm.jpa/-entity-manager-factory-accessor/set-entity-manager-factory.html">#setEntityManagerFactory</a><a href="#">#setEntityManagerInterface</a>org.springframework.orm.jpa.LocalEntityManagerFactoryBeanorg.springframework.orm.jpa.JpaTransactionManager</p>
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="-init-.html">&lt;init&gt;</a></p>
</td>
<td>
<code><span class="identifier">SharedEntityManagerBean</span><span class="symbol">(</span><span class="symbol">)</span></code>
<p>FactoryBean that exposes a shared JPA javax.persistence.EntityManager reference for a given EntityManagerFactory. Typically used for an EntityManagerFactory created by org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean, as direct alternative to a JNDI lookup for a Java EE server's EntityManager reference. 
<p>The shared EntityManager will behave just like an EntityManager fetched from an application server's JNDI environment, as defined by the JPA specification. It will delegate all calls to the current transactional EntityManager, if any; otherwise, it will fall back to a newly created EntityManager per operation. </p>
<p>Can be passed to DAOs that expect a shared EntityManager reference rather than an EntityManagerFactory. Note that Spring's org.springframework.orm.jpa.JpaTransactionManager always needs an EntityManagerFactory in order to create new transactional EntityManager instances.</p>
</p>
</td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="after-properties-set.html">afterPropertiesSet</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">afterPropertiesSet</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="get-object.html">getObject</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">getObject</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">EntityManager</span></code></td>
</tr>
<tr>
<td>
<p><a href="get-object-type.html">getObjectType</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">getObjectType</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Class</span><span class="symbol">&lt;</span><span class="keyword">out</span>&nbsp;<span class="identifier">EntityManager</span><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<p><a href="is-singleton.html">isSingleton</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">isSingleton</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="set-entity-manager-interface.html">setEntityManagerInterface</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">setEntityManagerInterface</span><span class="symbol">(</span><span class="identifier" id="org.springframework.orm.jpa.support.SharedEntityManagerBean$setEntityManagerInterface(java.lang.Class((javax.persistence.EntityManager)))/entityManagerInterface">entityManagerInterface</span><span class="symbol">:</span>&nbsp;<span class="identifier">Class</span><span class="symbol">&lt;</span><span class="keyword">out</span>&nbsp;<span class="identifier">EntityManager</span><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code>
<p>Specify the EntityManager interface to expose. 
<p>Default is the EntityManager interface as defined by the EntityManagerFactoryInfo, if available. Else, the standard <code>javax.persistence.EntityManager</code> interface will be used.</p>
</p>
</td>
</tr>
<tr>
<td>
<p><a href="set-synchronized-with-transaction.html">setSynchronizedWithTransaction</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">setSynchronizedWithTransaction</span><span class="symbol">(</span><span class="identifier" id="org.springframework.orm.jpa.support.SharedEntityManagerBean$setSynchronizedWithTransaction(kotlin.Boolean)/synchronizedWithTransaction">synchronizedWithTransaction</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code>
<p>Set whether to automatically join ongoing transactions (according to the JPA 2.1 SynchronizationType rules). Default is "true".</p>
</td>
</tr>
</tbody>
</table>
<h3>Inherited Functions</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="../../org.springframework.orm.jpa/-entity-manager-factory-accessor/get-entity-manager-factory.html">getEntityManagerFactory</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">getEntityManagerFactory</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">EntityManagerFactory</span></code>
<p>Return the JPA EntityManagerFactory that should be used to create EntityManagers.</p>
</td>
</tr>
<tr>
<td>
<p><a href="../../org.springframework.orm.jpa/-entity-manager-factory-accessor/get-jpa-property-map.html">getJpaPropertyMap</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">getJpaPropertyMap</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-map/index.html"><span class="identifier">MutableMap</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">,</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html"><span class="identifier">Any</span></a><span class="symbol">&gt;</span></code>
<p>Allow Map access to the JPA properties to be passed to the persistence provider, with the option to add or override specific entries. 
<p>Useful for specifying entries directly, for example via "jpaPropertyMap[myKey]".</p>
</p>
</td>
</tr>
<tr>
<td>
<p><a href="../../org.springframework.orm.jpa/-entity-manager-factory-accessor/get-persistence-unit-name.html">getPersistenceUnitName</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">getPersistenceUnitName</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a></code>
<p>Return the name of the persistence unit to access the EntityManagerFactory for, if any.</p>
</td>
</tr>
<tr>
<td>
<p><a href="../../org.springframework.orm.jpa/-entity-manager-factory-accessor/set-bean-factory.html">setBeanFactory</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">setBeanFactory</span><span class="symbol">(</span><span class="identifier" id="org.springframework.orm.jpa.EntityManagerFactoryAccessor$setBeanFactory(org.springframework.beans.factory.BeanFactory)/beanFactory">beanFactory</span><span class="symbol">:</span>&nbsp;<span class="identifier">BeanFactory</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code>
<p>Retrieves an EntityManagerFactory by persistence unit name, if none set explicitly. Falls back to a default EntityManagerFactory bean if no persistence unit specified.</p>
</td>
</tr>
<tr>
<td>
<p><a href="../../org.springframework.orm.jpa/-entity-manager-factory-accessor/set-entity-manager-factory.html">setEntityManagerFactory</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">setEntityManagerFactory</span><span class="symbol">(</span><span class="identifier" id="org.springframework.orm.jpa.EntityManagerFactoryAccessor$setEntityManagerFactory(javax.persistence.EntityManagerFactory)/emf">emf</span><span class="symbol">:</span>&nbsp;<span class="identifier">EntityManagerFactory</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code>
<p>Set the JPA EntityManagerFactory that should be used to create EntityManagers.</p>
</td>
</tr>
<tr>
<td>
<p><a href="../../org.springframework.orm.jpa/-entity-manager-factory-accessor/set-jpa-properties.html">setJpaProperties</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">setJpaProperties</span><span class="symbol">(</span><span class="identifier" id="org.springframework.orm.jpa.EntityManagerFactoryAccessor$setJpaProperties(java.util.Properties)/jpaProperties">jpaProperties</span><span class="symbol">:</span>&nbsp;<span class="identifier">Properties</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code>
<p>Specify JPA properties, to be passed into <code>EntityManagerFactory.createEntityManager(Map)</code> (if any). 
<p>Can be populated with a String "value" (parsed via PropertiesEditor) or a "props" element in XML bean definitions.</p>
</p>
</td>
</tr>
<tr>
<td>
<p><a href="../../org.springframework.orm.jpa/-entity-manager-factory-accessor/set-jpa-property-map.html">setJpaPropertyMap</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">setJpaPropertyMap</span><span class="symbol">(</span><span class="identifier" id="org.springframework.orm.jpa.EntityManagerFactoryAccessor$setJpaPropertyMap(kotlin.collections.MutableMap((kotlin.String, kotlin.Any)))/jpaProperties">jpaProperties</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-map/index.html"><span class="identifier">MutableMap</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">,</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html"><span class="identifier">Any</span></a><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code>
<p>Specify JPA properties as a Map, to be passed into <code>EntityManagerFactory.createEntityManager(Map)</code> (if any). 
<p>Can be populated with a "map" or "props" element in XML bean definitions.</p>
</p>
</td>
</tr>
<tr>
<td>
<p><a href="../../org.springframework.orm.jpa/-entity-manager-factory-accessor/set-persistence-unit-name.html">setPersistenceUnitName</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">setPersistenceUnitName</span><span class="symbol">(</span><span class="identifier" id="org.springframework.orm.jpa.EntityManagerFactoryAccessor$setPersistenceUnitName(kotlin.String)/persistenceUnitName">persistenceUnitName</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code>
<p>Set the name of the persistence unit to access the EntityManagerFactory for. 
<p>This is an alternative to specifying the EntityManagerFactory by direct reference, resolving it by its persistence unit name instead. If no EntityManagerFactory and no persistence unit name have been specified, a default EntityManagerFactory will be retrieved through finding a single unique bean of type EntityManagerFactory.</p>
</p>
</td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
