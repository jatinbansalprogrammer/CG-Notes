<HTML>
<HEAD>
<meta charset="UTF-8">
<title>LocalConnectionFactoryBean - spring-framework</title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">spring-framework</a>&nbsp;/&nbsp;<a href="../index.html">org.springframework.jca.support</a>&nbsp;/&nbsp;<a href=".">LocalConnectionFactoryBean</a><br/>
<br/>
<h1>LocalConnectionFactoryBean</h1>
<code><span class="keyword">open</span> <span class="keyword">class </span><span class="identifier">LocalConnectionFactoryBean</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">FactoryBean</span><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html"><span class="identifier">Any</span></a><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier">InitializingBean</span></code>
<p>org.springframework.beans.factory.FactoryBean that creates a local JCA connection factory in "non-managed" mode (as defined by the Java Connector Architecture specification). This is a direct alternative to a org.springframework.jndi.JndiObjectFactoryBean definition that obtains a connection factory handle from a Java EE server's naming environment. 
<p>The type of the connection factory is dependent on the actual connector: the connector can either expose its native API (such as a JDBC javax.sql.DataSource or a JMS javax.jms.ConnectionFactory) or follow the standard Common Client Interface (CCI), as defined by the JCA spec. The exposed interface in the CCI case is javax.resource.cci.ConnectionFactory. </p>
<p>In order to use this FactoryBean, you must specify the connector's <code><a href="set-managed-connection-factory.html">"managedConnectionFactory"</a></code> (usually configured as separate JavaBean), which will be used to create the actual connection factory reference as exposed to the application. Optionally, you can also specify a <code><a href="set-connection-manager.html">"connectionManager"</a></code>, in order to use a custom ConnectionManager instead of the connector's default. </p>
<p><strong>NOTE:</strong> In non-managed mode, a connector is not deployed on an application server, or more specificially not interacting with an application server. Consequently, it cannot use a Java EE server's system contracts: connection management, transaction management, and security management. A custom ConnectionManager implementation has to be used for applying those services in conjunction with a standalone transaction coordinator etc. </p>
<p>The connector will use a local ConnectionManager (included in the connector) by default, which cannot participate in global transactions due to the lack of XA enlistment. You need to specify an XA-capable ConnectionManager in order to make the connector interact with an XA transaction coordinator. Alternatively, simply use the native local transaction facilities of the exposed API (e.g. CCI local transactions), or use a corresponding implementation of Spring's PlatformTransactionManager SPI (e.g. org.springframework.jca.cci.connection.CciLocalTransactionManager) to drive local transactions.</p>
</p>
<p><strong>Author</strong><br/>
Juergen Hoeller</p>
<p><strong>Since</strong><br/>
1.2</p>
<p><strong>See Also</strong><br/>
<a href="set-managed-connection-factory.html">#setManagedConnectionFactory</a><a href="set-connection-manager.html">#setConnectionManager</a>javax.resource.cci.ConnectionFactory<a href="#">javax.resource.cci.Connection#getLocalTransaction</a>org.springframework.jca.cci.connection.CciLocalTransactionManager</p>
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="-init-.html">&lt;init&gt;</a></p>
</td>
<td>
<code><span class="identifier">LocalConnectionFactoryBean</span><span class="symbol">(</span><span class="symbol">)</span></code>
<p>org.springframework.beans.factory.FactoryBean that creates a local JCA connection factory in "non-managed" mode (as defined by the Java Connector Architecture specification). This is a direct alternative to a org.springframework.jndi.JndiObjectFactoryBean definition that obtains a connection factory handle from a Java EE server's naming environment. 
<p>The type of the connection factory is dependent on the actual connector: the connector can either expose its native API (such as a JDBC javax.sql.DataSource or a JMS javax.jms.ConnectionFactory) or follow the standard Common Client Interface (CCI), as defined by the JCA spec. The exposed interface in the CCI case is javax.resource.cci.ConnectionFactory. </p>
<p>In order to use this FactoryBean, you must specify the connector's <code><a href="set-managed-connection-factory.html">"managedConnectionFactory"</a></code> (usually configured as separate JavaBean), which will be used to create the actual connection factory reference as exposed to the application. Optionally, you can also specify a <code><a href="set-connection-manager.html">"connectionManager"</a></code>, in order to use a custom ConnectionManager instead of the connector's default. </p>
<p><strong>NOTE:</strong> In non-managed mode, a connector is not deployed on an application server, or more specificially not interacting with an application server. Consequently, it cannot use a Java EE server's system contracts: connection management, transaction management, and security management. A custom ConnectionManager implementation has to be used for applying those services in conjunction with a standalone transaction coordinator etc. </p>
<p>The connector will use a local ConnectionManager (included in the connector) by default, which cannot participate in global transactions due to the lack of XA enlistment. You need to specify an XA-capable ConnectionManager in order to make the connector interact with an XA transaction coordinator. Alternatively, simply use the native local transaction facilities of the exposed API (e.g. CCI local transactions), or use a corresponding implementation of Spring's PlatformTransactionManager SPI (e.g. org.springframework.jca.cci.connection.CciLocalTransactionManager) to drive local transactions.</p>
</p>
</td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="after-properties-set.html">afterPropertiesSet</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">afterPropertiesSet</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="get-object.html">getObject</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">getObject</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html"><span class="identifier">Any</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="get-object-type.html">getObjectType</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">getObjectType</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Class</span><span class="symbol">&lt;</span><span class="identifier">*</span><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<p><a href="is-singleton.html">isSingleton</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">isSingleton</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="set-connection-manager.html">setConnectionManager</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">setConnectionManager</span><span class="symbol">(</span><span class="identifier" id="org.springframework.jca.support.LocalConnectionFactoryBean$setConnectionManager(javax.resource.spi.ConnectionManager)/connectionManager">connectionManager</span><span class="symbol">:</span>&nbsp;<span class="identifier">ConnectionManager</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code>
<p>Set the JCA ConnectionManager that should be used to create the desired connection factory. 
<p>A ConnectionManager implementation for local usage is often included with a JCA connector. Such an included ConnectionManager might be set as default, with no need to explicitly specify one.</p>
</p>
</td>
</tr>
<tr>
<td>
<p><a href="set-managed-connection-factory.html">setManagedConnectionFactory</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">setManagedConnectionFactory</span><span class="symbol">(</span><span class="identifier" id="org.springframework.jca.support.LocalConnectionFactoryBean$setManagedConnectionFactory(javax.resource.spi.ManagedConnectionFactory)/managedConnectionFactory">managedConnectionFactory</span><span class="symbol">:</span>&nbsp;<span class="identifier">ManagedConnectionFactory</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code>
<p>Set the JCA ManagerConnectionFactory that should be used to create the desired connection factory. 
<p>The ManagerConnectionFactory will usually be set up as separate bean (potentially as inner bean), populated with JavaBean properties: a ManagerConnectionFactory is encouraged to follow the JavaBean pattern by the JCA specification, analogous to a JDBC DataSource and a JPA EntityManagerFactory. </p>
<p>Note that the ManagerConnectionFactory implementation might expect a reference to its JCA 1.7 ResourceAdapter, expressed through the javax.resource.spi.ResourceAdapterAssociation interface. Simply inject the corresponding ResourceAdapter instance into its "resourceAdapter" bean property in this case, before passing the ManagerConnectionFactory into this LocalConnectionFactoryBean.</p>
</p>
</td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
