<HTML>
<HEAD>
<meta charset="UTF-8">
<title>InteractionCallback - spring-framework</title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">spring-framework</a>&nbsp;/&nbsp;<a href="../index.html">org.springframework.jca.cci.core</a>&nbsp;/&nbsp;<a href=".">InteractionCallback</a><br/>
<br/>
<h1>InteractionCallback</h1>
<code><span class="identifier">@FunctionalInterface</span> <span class="keyword">interface </span><span class="identifier">InteractionCallback</span><span class="symbol">&lt;</span><span class="identifier">T</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html"><span class="identifier">Any</span></a><span class="symbol">&gt;</span></code>
<p>Generic callback interface for code that operates on a CCI Interaction. Allows to execute any number of operations on a single Interaction, for example a single execute call or repeated execute calls with varying parameters. 
<p>This is particularly useful for delegating to existing data access code that expects an Interaction to work on and throws ResourceException. For newly written code, it is strongly recommended to use CciTemplate's more specific <code>execute</code> variants.</p>
</p>
<p><strong>Author</strong><br/>
Thierry Templier</p>
<p><strong>Author</strong><br/>
Juergen Hoeller</p>
<p><strong>Since</strong><br/>
1.2</p>
<p><strong>See Also</strong><br/>
<a href="#">CciTemplate#execute(InteractionCallback)</a><a href="#">CciTemplate#execute(javax.resource.cci.InteractionSpec, javax.resource.cci.Record)</a><a href="#">CciTemplate#execute(javax.resource.cci.InteractionSpec, RecordCreator, RecordExtractor)</a></p>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="do-in-interaction.html">doInInteraction</a></p>
</td>
<td>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">doInInteraction</span><span class="symbol">(</span><span class="identifier" id="org.springframework.jca.cci.core.InteractionCallback$doInInteraction(javax.resource.cci.Interaction, javax.resource.cci.ConnectionFactory)/interaction">interaction</span><span class="symbol">:</span>&nbsp;<span class="identifier">Interaction</span><span class="symbol">, </span><span class="identifier" id="org.springframework.jca.cci.core.InteractionCallback$doInInteraction(javax.resource.cci.Interaction, javax.resource.cci.ConnectionFactory)/connectionFactory">connectionFactory</span><span class="symbol">:</span>&nbsp;<span class="identifier">ConnectionFactory</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">T</span></code>
<p>Gets called by <code>CciTemplate.execute</code> with an active CCI Interaction. Does not need to care about activating or closing the Interaction, or handling transactions. 
<p>If called without a thread-bound CCI transaction (initiated by CciLocalTransactionManager), the code will simply get executed on the CCI Interaction with its transactional semantics. If CciTemplate is configured to use a JTA-aware ConnectionFactory, the CCI Interaction and thus the callback code will be transactional if a JTA transaction is active. </p>
<p>Allows for returning a result object created within the callback, i.e. a domain object or a collection of domain objects. Note that there's special support for single step actions: see the <code>CciTemplate.execute</code> variants. A thrown RuntimeException is treated as application exception: it gets propagated to the caller of the template.</p>
</p>
</td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
