<HTML>
<HEAD>
<meta charset="UTF-8">
<title>MessageBrokerRegistry - spring-framework</title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">spring-framework</a>&nbsp;/&nbsp;<a href="../index.html">org.springframework.messaging.simp.config</a>&nbsp;/&nbsp;<a href=".">MessageBrokerRegistry</a><br/>
<br/>
<h1>MessageBrokerRegistry</h1>
<code><span class="keyword">open</span> <span class="keyword">class </span><span class="identifier">MessageBrokerRegistry</span></code>
<p>A registry for configuring message broker options.</p>
<p><strong>Author</strong><br/>
Rossen Stoyanchev</p>
<p><strong>Author</strong><br/>
Sebastien Deleuze</p>
<p><strong>Since</strong><br/>
4.0</p>
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="-init-.html">&lt;init&gt;</a></p>
</td>
<td>
<code><span class="identifier">MessageBrokerRegistry</span><span class="symbol">(</span><span class="identifier" id="org.springframework.messaging.simp.config.MessageBrokerRegistry$<init>(org.springframework.messaging.SubscribableChannel, org.springframework.messaging.MessageChannel)/clientInboundChannel">clientInboundChannel</span><span class="symbol">:</span>&nbsp;<span class="identifier">SubscribableChannel</span><span class="symbol">, </span><span class="identifier" id="org.springframework.messaging.simp.config.MessageBrokerRegistry$<init>(org.springframework.messaging.SubscribableChannel, org.springframework.messaging.MessageChannel)/clientOutboundChannel">clientOutboundChannel</span><span class="symbol">:</span>&nbsp;<span class="identifier">MessageChannel</span><span class="symbol">)</span></code></td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="configure-broker-channel.html">configureBrokerChannel</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">configureBrokerChannel</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">ChannelRegistration</span></code>
<p>Customize the channel used to send messages from the application to the message broker. By default, messages from the application to the message broker are sent synchronously, which means application code sending a message will find out if the message cannot be sent through an exception. However, this can be changed if the broker channel is configured here with task executor properties.</p>
</td>
</tr>
<tr>
<td>
<p><a href="enable-simple-broker.html">enableSimpleBroker</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">enableSimpleBroker</span><span class="symbol">(</span><span class="keyword">vararg</span> <span class="identifier" id="org.springframework.messaging.simp.config.MessageBrokerRegistry$enableSimpleBroker(kotlin.Array((kotlin.String)))/destinationPrefixes">destinationPrefixes</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">SimpleBrokerRegistration</span></code>
<p>Enable a simple message broker and configure one or more prefixes to filter destinations targeting the broker (e.g. destinations prefixed with "/topic").</p>
</td>
</tr>
<tr>
<td>
<p><a href="enable-stomp-broker-relay.html">enableStompBrokerRelay</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">enableStompBrokerRelay</span><span class="symbol">(</span><span class="keyword">vararg</span> <span class="identifier" id="org.springframework.messaging.simp.config.MessageBrokerRegistry$enableStompBrokerRelay(kotlin.Array((kotlin.String)))/destinationPrefixes">destinationPrefixes</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">StompBrokerRelayRegistration</span></code>
<p>Enable a STOMP broker relay and configure the destination prefixes supported by the message broker. Check the STOMP documentation of the message broker for supported destinations.</p>
</td>
</tr>
<tr>
<td>
<p><a href="set-application-destination-prefixes.html">setApplicationDestinationPrefixes</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">setApplicationDestinationPrefixes</span><span class="symbol">(</span><span class="keyword">vararg</span> <span class="identifier" id="org.springframework.messaging.simp.config.MessageBrokerRegistry$setApplicationDestinationPrefixes(kotlin.Array((kotlin.String)))/prefixes">prefixes</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">MessageBrokerRegistry</span></code>
<p>Configure one or more prefixes to filter destinations targeting application annotated methods. For example destinations prefixed with "/app" may be processed by annotated methods while other destinations may target the message broker (e.g. "/topic", "/queue"). 
<p>When messages are processed, the matching prefix is removed from the destination in order to form the lookup path. This means annotations should not contain the destination prefix. </p>
<p>Prefixes that do not have a trailing slash will have one automatically appended.</p>
</p>
</td>
</tr>
<tr>
<td>
<p><a href="set-cache-limit.html">setCacheLimit</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">setCacheLimit</span><span class="symbol">(</span><span class="identifier" id="org.springframework.messaging.simp.config.MessageBrokerRegistry$setCacheLimit(kotlin.Int)/cacheLimit">cacheLimit</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">MessageBrokerRegistry</span></code>
<p>Configure the cache limit to apply for registrations with the broker. 
<p>This is currently only applied for the destination cache in the subscription registry. The default cache limit there is 1024.</p>
</p>
</td>
</tr>
<tr>
<td>
<p><a href="set-path-matcher.html">setPathMatcher</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">setPathMatcher</span><span class="symbol">(</span><span class="identifier" id="org.springframework.messaging.simp.config.MessageBrokerRegistry$setPathMatcher(org.springframework.util.PathMatcher)/pathMatcher">pathMatcher</span><span class="symbol">:</span>&nbsp;<span class="identifier">PathMatcher</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">MessageBrokerRegistry</span></code>
<p>Configure the PathMatcher to use to match the destinations of incoming messages to <code>@MessageMapping</code> and <code>@SubscribeMapping</code> methods. 
<p>By default org.springframework.util.AntPathMatcher is configured. However applications may provide an <code>AntPathMatcher</code> instance customized to use "." (commonly used in messaging) instead of "/" as path separator or provide a completely different PathMatcher implementation. </p>
<p>Note that the configured PathMatcher is only used for matching the portion of the destination after the configured prefix. For example given application destination prefix "/app" and destination "/app/price.stock.**", the message might be mapped to a controller with "price" and "stock.**" as its type and method-level mappings respectively. </p>
<p>When the simple broker is enabled, the PathMatcher configured here is also used to match message destinations when brokering messages.</p>
</p>
</td>
</tr>
<tr>
<td>
<p><a href="set-user-destination-prefix.html">setUserDestinationPrefix</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">setUserDestinationPrefix</span><span class="symbol">(</span><span class="identifier" id="org.springframework.messaging.simp.config.MessageBrokerRegistry$setUserDestinationPrefix(kotlin.String)/destinationPrefix">destinationPrefix</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">MessageBrokerRegistry</span></code>
<p>Configure the prefix used to identify user destinations. User destinations provide the ability for a user to subscribe to queue names unique to their session as well as for others to send messages to those unique, user-specific queues. 
<p>For example when a user attempts to subscribe to "/user/queue/position-updates", the destination may be translated to "/queue/position-updatesi9oqdfzo" yielding a unique queue name that does not collide with any other user attempting to do the same. Subsequently when messages are sent to "/user/{username}/queue/position-updates", the destination is translated to "/queue/position-updatesi9oqdfzo". </p>
<p>The default prefix used to identify such destinations is "/user/".</p>
</p>
</td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
