<HTML>
<HEAD>
<meta charset="UTF-8">
<title>OpenEntityManagerInViewInterceptor - spring-framework</title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">spring-framework</a>&nbsp;/&nbsp;<a href="../index.html">org.springframework.orm.jpa.support</a>&nbsp;/&nbsp;<a href=".">OpenEntityManagerInViewInterceptor</a><br/>
<br/>
<h1>OpenEntityManagerInViewInterceptor</h1>
<code><span class="keyword">open</span> <span class="keyword">class </span><span class="identifier">OpenEntityManagerInViewInterceptor</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../org.springframework.orm.jpa/-entity-manager-factory-accessor/index.html"><span class="identifier">EntityManagerFactoryAccessor</span></a><span class="symbol">, </span><span class="identifier">AsyncWebRequestInterceptor</span></code>
<p>Spring web request interceptor that binds a JPA EntityManager to the thread for the entire processing of the request. Intended for the "Open EntityManager in View" pattern, i.e. to allow for lazy loading in web views despite the original transactions already being completed. 
<p>This interceptor makes JPA EntityManagers available via the current thread, which will be autodetected by transaction managers. It is suitable for service layer transactions via org.springframework.orm.jpa.JpaTransactionManager or org.springframework.transaction.jta.JtaTransactionManager as well as for non-transactional read-only execution. </p>
<p>In contrast to OpenEntityManagerInViewFilter, this interceptor is set up in a Spring application context and can thus take advantage of bean wiring.</p>
</p>
<p><strong>Author</strong><br/>
Juergen Hoeller</p>
<p><strong>Since</strong><br/>
2.0</p>
<p><strong>See Also</strong><br/>
OpenEntityManagerInViewFilterorg.springframework.orm.jpa.JpaTransactionManagerorg.springframework.orm.jpa.SharedEntityManagerCreatororg.springframework.transaction.support.TransactionSynchronizationManager</p>
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="-init-.html">&lt;init&gt;</a></p>
</td>
<td>
<code><span class="identifier">OpenEntityManagerInViewInterceptor</span><span class="symbol">(</span><span class="symbol">)</span></code>
<p>Spring web request interceptor that binds a JPA EntityManager to the thread for the entire processing of the request. Intended for the "Open EntityManager in View" pattern, i.e. to allow for lazy loading in web views despite the original transactions already being completed. 
<p>This interceptor makes JPA EntityManagers available via the current thread, which will be autodetected by transaction managers. It is suitable for service layer transactions via org.springframework.orm.jpa.JpaTransactionManager or org.springframework.transaction.jta.JtaTransactionManager as well as for non-transactional read-only execution. </p>
<p>In contrast to OpenEntityManagerInViewFilter, this interceptor is set up in a Spring application context and can thus take advantage of bean wiring.</p>
</p>
</td>
</tr>
</tbody>
</table>
<h3>Properties</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="-p-a-r-t-i-c-i-p-a-t-e_-s-u-f-f-i-x.html">PARTICIPATE_SUFFIX</a></p>
</td>
<td>
<code><span class="keyword">static</span> <span class="keyword">val </span><span class="identifier">PARTICIPATE_SUFFIX</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a></code>
<p>Suffix that gets appended to the EntityManagerFactory toString representation for the "participate in existing entity manager handling" request attribute.</p>
</td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="after-completion.html">afterCompletion</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">afterCompletion</span><span class="symbol">(</span><span class="identifier" id="org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor$afterCompletion(org.springframework.web.context.request.WebRequest, java.lang.Exception)/request">request</span><span class="symbol">:</span>&nbsp;<span class="identifier">WebRequest</span><span class="symbol">, </span><span class="identifier" id="org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor$afterCompletion(org.springframework.web.context.request.WebRequest, java.lang.Exception)/ex">ex</span><span class="symbol">:</span>&nbsp;<span class="identifier">Exception</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="after-concurrent-handling-started.html">afterConcurrentHandlingStarted</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">afterConcurrentHandlingStarted</span><span class="symbol">(</span><span class="identifier" id="org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor$afterConcurrentHandlingStarted(org.springframework.web.context.request.WebRequest)/request">request</span><span class="symbol">:</span>&nbsp;<span class="identifier">WebRequest</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="post-handle.html">postHandle</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">postHandle</span><span class="symbol">(</span><span class="identifier" id="org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor$postHandle(org.springframework.web.context.request.WebRequest, org.springframework.ui.ModelMap)/request">request</span><span class="symbol">:</span>&nbsp;<span class="identifier">WebRequest</span><span class="symbol">, </span><span class="identifier" id="org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor$postHandle(org.springframework.web.context.request.WebRequest, org.springframework.ui.ModelMap)/model">model</span><span class="symbol">:</span>&nbsp;<span class="identifier">ModelMap</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<p><a href="pre-handle.html">preHandle</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">preHandle</span><span class="symbol">(</span><span class="identifier" id="org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor$preHandle(org.springframework.web.context.request.WebRequest)/request">request</span><span class="symbol">:</span>&nbsp;<span class="identifier">WebRequest</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
</tbody>
</table>
<h3>Inherited Functions</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="../../org.springframework.orm.jpa/-entity-manager-factory-accessor/get-entity-manager-factory.html">getEntityManagerFactory</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">getEntityManagerFactory</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">EntityManagerFactory</span></code>
<p>Return the JPA EntityManagerFactory that should be used to create EntityManagers.</p>
</td>
</tr>
<tr>
<td>
<p><a href="../../org.springframework.orm.jpa/-entity-manager-factory-accessor/get-jpa-property-map.html">getJpaPropertyMap</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">getJpaPropertyMap</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-map/index.html"><span class="identifier">MutableMap</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">,</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html"><span class="identifier">Any</span></a><span class="symbol">&gt;</span></code>
<p>Allow Map access to the JPA properties to be passed to the persistence provider, with the option to add or override specific entries. 
<p>Useful for specifying entries directly, for example via "jpaPropertyMap[myKey]".</p>
</p>
</td>
</tr>
<tr>
<td>
<p><a href="../../org.springframework.orm.jpa/-entity-manager-factory-accessor/get-persistence-unit-name.html">getPersistenceUnitName</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">getPersistenceUnitName</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a></code>
<p>Return the name of the persistence unit to access the EntityManagerFactory for, if any.</p>
</td>
</tr>
<tr>
<td>
<p><a href="../../org.springframework.orm.jpa/-entity-manager-factory-accessor/set-bean-factory.html">setBeanFactory</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">setBeanFactory</span><span class="symbol">(</span><span class="identifier" id="org.springframework.orm.jpa.EntityManagerFactoryAccessor$setBeanFactory(org.springframework.beans.factory.BeanFactory)/beanFactory">beanFactory</span><span class="symbol">:</span>&nbsp;<span class="identifier">BeanFactory</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code>
<p>Retrieves an EntityManagerFactory by persistence unit name, if none set explicitly. Falls back to a default EntityManagerFactory bean if no persistence unit specified.</p>
</td>
</tr>
<tr>
<td>
<p><a href="../../org.springframework.orm.jpa/-entity-manager-factory-accessor/set-entity-manager-factory.html">setEntityManagerFactory</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">setEntityManagerFactory</span><span class="symbol">(</span><span class="identifier" id="org.springframework.orm.jpa.EntityManagerFactoryAccessor$setEntityManagerFactory(javax.persistence.EntityManagerFactory)/emf">emf</span><span class="symbol">:</span>&nbsp;<span class="identifier">EntityManagerFactory</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code>
<p>Set the JPA EntityManagerFactory that should be used to create EntityManagers.</p>
</td>
</tr>
<tr>
<td>
<p><a href="../../org.springframework.orm.jpa/-entity-manager-factory-accessor/set-jpa-properties.html">setJpaProperties</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">setJpaProperties</span><span class="symbol">(</span><span class="identifier" id="org.springframework.orm.jpa.EntityManagerFactoryAccessor$setJpaProperties(java.util.Properties)/jpaProperties">jpaProperties</span><span class="symbol">:</span>&nbsp;<span class="identifier">Properties</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code>
<p>Specify JPA properties, to be passed into <code>EntityManagerFactory.createEntityManager(Map)</code> (if any). 
<p>Can be populated with a String "value" (parsed via PropertiesEditor) or a "props" element in XML bean definitions.</p>
</p>
</td>
</tr>
<tr>
<td>
<p><a href="../../org.springframework.orm.jpa/-entity-manager-factory-accessor/set-jpa-property-map.html">setJpaPropertyMap</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">setJpaPropertyMap</span><span class="symbol">(</span><span class="identifier" id="org.springframework.orm.jpa.EntityManagerFactoryAccessor$setJpaPropertyMap(kotlin.collections.MutableMap((kotlin.String, kotlin.Any)))/jpaProperties">jpaProperties</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-map/index.html"><span class="identifier">MutableMap</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">,</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html"><span class="identifier">Any</span></a><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code>
<p>Specify JPA properties as a Map, to be passed into <code>EntityManagerFactory.createEntityManager(Map)</code> (if any). 
<p>Can be populated with a "map" or "props" element in XML bean definitions.</p>
</p>
</td>
</tr>
<tr>
<td>
<p><a href="../../org.springframework.orm.jpa/-entity-manager-factory-accessor/set-persistence-unit-name.html">setPersistenceUnitName</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">setPersistenceUnitName</span><span class="symbol">(</span><span class="identifier" id="org.springframework.orm.jpa.EntityManagerFactoryAccessor$setPersistenceUnitName(kotlin.String)/persistenceUnitName">persistenceUnitName</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code>
<p>Set the name of the persistence unit to access the EntityManagerFactory for. 
<p>This is an alternative to specifying the EntityManagerFactory by direct reference, resolving it by its persistence unit name instead. If no EntityManagerFactory and no persistence unit name have been specified, a default EntityManagerFactory will be retrieved through finding a single unique bean of type EntityManagerFactory.</p>
</p>
</td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
