<HTML>
<HEAD>
<meta charset="UTF-8">
<title>org.springframework.scripting.support - spring-framework</title>
<link rel="stylesheet" href="../../style.css">
</HEAD>
<BODY>
<a href="../index.html">spring-framework</a>&nbsp;/&nbsp;<a href=".">org.springframework.scripting.support</a><br/>
<br/>
<h2>Package org.springframework.scripting.support</h2>
<h3>Types</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="-refreshable-script-target-source/index.html">RefreshableScriptTargetSource</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">class </span><span class="identifier">RefreshableScriptTargetSource</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../org.springframework.aop.target.dynamic/-bean-factory-refreshable-target-source/index.html"><span class="identifier">BeanFactoryRefreshableTargetSource</span></a></code>
<p>Subclass of BeanFactoryRefreshableTargetSource that determines whether a refresh is required through the given ScriptFactory.</p>
</td>
</tr>
<tr>
<td>
<p><a href="-resource-script-source/index.html">ResourceScriptSource</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">class </span><span class="identifier">ResourceScriptSource</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">ScriptSource</span></code>
<p>org.springframework.scripting.ScriptSource implementation based on Spring's org.springframework.core.io.Resource abstraction. Loads the script text from the underlying Resource's <code><a href="#">File</a></code> or <code><a href="#">InputStream</a></code>, and tracks the last-modified timestamp of the file (if possible).</p>
</td>
</tr>
<tr>
<td>
<p><a href="-script-factory-post-processor/index.html">ScriptFactoryPostProcessor</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">class </span><span class="identifier">ScriptFactoryPostProcessor</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../org.springframework.beans.factory.config/-instantiation-aware-bean-post-processor-adapter/index.html"><span class="identifier">InstantiationAwareBeanPostProcessorAdapter</span></a><span class="symbol">, </span><span class="identifier">BeanClassLoaderAware</span><span class="symbol">, </span><span class="identifier">BeanFactoryAware</span><span class="symbol">, </span><span class="identifier">ResourceLoaderAware</span><span class="symbol">, </span><span class="identifier">DisposableBean</span><span class="symbol">, </span><span class="identifier">Ordered</span></code>
<p>org.springframework.beans.factory.config.BeanPostProcessor that handles org.springframework.scripting.ScriptFactory definitions, replacing each factory with the actual scripted Java object generated by it. 
<p>This is similar to the org.springframework.beans.factory.FactoryBean mechanism, but is specifically tailored for scripts and not built into Spring's core container itself but rather implemented as an extension. </p>
<p><strong>NOTE:</strong> The most important characteristic of this post-processor is that constructor arguments are applied to the org.springframework.scripting.ScriptFactory instance while bean property values are applied to the generated scripted object. Typically, constructor arguments include a script source locator and potentially script interfaces, while bean property values include references and config values to inject into the scripted object itself. </p>
<p>The following ScriptFactoryPostProcessor will automatically be applied to the two org.springframework.scripting.ScriptFactory definitions below. At runtime, the actual scripted objects will be exposed for "bshMessenger" and "groovyMessenger", rather than the org.springframework.scripting.ScriptFactory instances. Both of those are supposed to be castable to the example's <code>Messenger</code> interfaces here. </p>
<pre><code>&lt;bean class="org.springframework.scripting.support.ScriptFactoryPostProcessor"/&gt; &lt;bean id="bshMessenger" class="org.springframework.scripting.bsh.BshScriptFactory"&gt; &lt;constructor-arg value="classpath:mypackage/Messenger.bsh"/&gt; &lt;constructor-arg value="mypackage.Messenger"/&gt; &lt;property name="message" value="Hello World!"/&gt; &lt;/bean&gt; &lt;bean id="groovyMessenger" class="org.springframework.scripting.groovy.GroovyScriptFactory"&gt; &lt;constructor-arg value="classpath:mypackage/Messenger.groovy"/&gt; &lt;property name="message" value="Hello World!"/&gt; &lt;/bean&gt;</code></pre> 
<p><strong>NOTE:</strong> Please note that the above excerpt from a Spring XML bean definition file uses just the &lt;bean/&gt;-style syntax (in an effort to illustrate using the ScriptFactoryPostProcessor itself). In reality, you would never create a &lt;bean/&gt; definition for a ScriptFactoryPostProcessor explicitly; rather you would import the tags from the <code>'lang'</code> namespace and simply create scripted beans using the tags in that namespace... as part of doing so, a ScriptFactoryPostProcessor will implicitly be created for you. </p>
<p>The Spring reference documentation contains numerous examples of using tags in the <code>'lang'</code> namespace; by way of an example, find below a Groovy-backed bean defined using the <code>'lang:groovy'</code> tag. </p>
<pre><code> &lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:lang="http://www.springframework.org/schema/lang"&gt; &lt;!-- this is the bean definition for the Groovy-backed Messenger implementation --&gt; &lt;lang:groovy id="messenger" script-source="classpath:Messenger.groovy"&gt; &lt;lang:property name="message" value="I Can Do The Frug" /&gt; &lt;/lang:groovy&gt; &lt;!-- an otherwise normal bean that will be injected by the Groovy-backed Messenger --&gt; &lt;bean id="bookingService" class="x.y.DefaultBookingService"&gt; &lt;property name="messenger" ref="messenger" /&gt; &lt;/bean&gt; &lt;/beans&gt;</code></pre></p>
</td>
</tr>
<tr>
<td>
<p><a href="-standard-script-evaluator/index.html">StandardScriptEvaluator</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">class </span><span class="identifier">StandardScriptEvaluator</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">ScriptEvaluator</span><span class="symbol">, </span><span class="identifier">BeanClassLoaderAware</span></code>
<p><code>javax.script</code> (JSR-223) based implementation of Spring's ScriptEvaluator strategy interface.</p>
</td>
</tr>
<tr>
<td>
<p><a href="-standard-script-factory/index.html">StandardScriptFactory</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">class </span><span class="identifier">StandardScriptFactory</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">ScriptFactory</span><span class="symbol">, </span><span class="identifier">BeanClassLoaderAware</span></code>
<p>org.springframework.scripting.ScriptFactory implementation based on the JSR-223 script engine abstraction (as included in Java 6+). Supports JavaScript, Groovy, JRuby and other JSR-223 compliant engines. 
<p>Typically used in combination with a org.springframework.scripting.support.ScriptFactoryPostProcessor; see the latter's javadoc for a configuration example.</p>
</p>
</td>
</tr>
<tr>
<td>
<p><a href="-standard-script-utils/index.html">StandardScriptUtils</a></p>
</td>
<td>
<code><span class="keyword">abstract</span> <span class="keyword">class </span><span class="identifier">StandardScriptUtils</span></code>
<p>Common operations for dealing with a JSR-223 ScriptEngine.</p>
</td>
</tr>
<tr>
<td>
<p><a href="-static-script-source/index.html">StaticScriptSource</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">class </span><span class="identifier">StaticScriptSource</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">ScriptSource</span></code>
<p>Static implementation of the org.springframework.scripting.ScriptSource interface, encapsulating a given String that contains the script source text. Supports programmatic updates of the script String.</p>
</td>
</tr>
</tbody>
</table>
<h3>Exceptions</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="-standard-script-eval-exception/index.html">StandardScriptEvalException</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">class </span><span class="identifier">StandardScriptEvalException</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">RuntimeException</span></code>
<p>Exception decorating a javax.script.ScriptException coming out of JSR-223 script evaluation, i.e. a <code><a href="#">javax.script.ScriptEngine#eval</a></code> call or <code><a href="#">javax.script.Invocable#invokeMethod</a></code> / <code><a href="#">javax.script.Invocable#invokeFunction</a></code> call. 
<p>This exception does not print the Java stacktrace, since the JSR-223 ScriptException results in a rather convoluted text output. From that perspective, this exception is primarily a decorator for a ScriptException root cause passed into an outer exception.</p>
</p>
</td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
